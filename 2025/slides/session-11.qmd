---
title: "Session 11: Hands-on Activity"
format: revealjs
metadata-files:
  - _slides.yml
  - ../../_metadata.yml
---

# Housekeeping


# Session overview


## ğŸ¯ Learning Objectives

By the end of this session, students will be able to:
 
> - Understand NLP tasks such as POS tagging and dependency parsing
> - Understand how automated parsing works
> - Conduct multi-lingual Part-Of-Speech (POS) tagging using TagAnt
> - Conduct POS tagging using spaCy library in Python (through Google Colab)
> - Conduct Dependency parsing using spaCy library in Python (through Google Colab)

---

## Hands-on Activity

**Task 1**: POS tagging with TagAnt

**Task 2**: POS-sensitive frequency list

**Task 3**: Understanding dependency grammar through visualization


## POS tagging with TagAnt


## Tagging with TagAnt

1. Open TagAnt
2. Select `Input Files`
3. Select `Language`
4. Select Display information (see next)

## Display setting info in TagAnt

Followings are basic selection in TagAnt.

| Menu | Function | Example |
|------|------|------|
| word | tokenization | dogs, ran|
| pos | POS tag (simple) | NOUN, VERB |
| pos_tag | POS tag (detailed) | NNS, VBD |
| lemma | lemmatized word  | dog, run |

## Other Diaplay settings

| Menu | Function | Example |
|---|------|------|
| word+pos | tokenization and POS | dogs_NOUN, ran_VERB|
| word+lemma +pos_tag | token+lemma+POS | dogs_dog_NN, ran_run_VERB |


## Task 1: Annotating Japanese text (10 mins)

- Annotate 50 Japanese text files with TagAnt.
- Create frequency list for `aozora_50`

## Task 1: Answer

**Before**
```
ã€Œå¤§æºã€

ã€€åƒ•ã¯æœ¬æ‰€ç•Œéšˆã®ã“ã¨ã‚’ã‚¹ã‚±ãƒ„ãƒã—ã‚ã¨ã„ãµç¤¾å‘½ã‚’å—ã‘ã€åŒã˜ç¤¾ã®ï¼¯å›ã¨ä¸€ã—ã‚ˆã«ä¹…æŒ¯ã‚Šã«æœ¬æ‰€ã¸å‡ºã‹ã‘ã¦è¡Œã¤ãŸã€‚
```

**After**
```
ã€Œ_è£œåŠ©è¨˜å·-æ‹¬å¼§é–‹_ã€Œ å¤§æº_åè©-å›ºæœ‰åè©-äººå-å§“_å¤§æº ã€_è£œåŠ©è¨˜å·-æ‹¬å¼§é–‰_ã€

ã€€_SPACE_ã€€ åƒ•_ä»£åè©_åƒ• ã¯_åŠ©è©-ä¿‚åŠ©è©_ã¯ æœ¬æ‰€_åè©-å›ºæœ‰åè©-åœ°å-ä¸€èˆ¬_æœ¬æ‰€ ç•Œéšˆ_åè©-æ™®é€šåè©-ä¸€èˆ¬_ç•Œéšˆ ã®_åŠ©è©-æ ¼åŠ©è©_ã® ã“ã¨_åè©-æ™®é€šåè©-ä¸€èˆ¬_ã“ã¨ ã‚’_åŠ©è©-æ ¼åŠ©è©_ã‚’ ã‚¹ã‚±ãƒ„ãƒ_åè©-æ™®é€šåè©-ä¸€èˆ¬_ã‚¹ã‚±ãƒ„ãƒ ã—ã‚_å‹•è©-éè‡ªç«‹å¯èƒ½_ã™ã‚‹ ã¨_åŠ©è©-æ ¼åŠ©è©_ã¨ ã„ãµ_å‹•è©-ä¸€èˆ¬_ã„ãµ ç¤¾å‘½_åè©-æ™®é€šåè©-ä¸€èˆ¬_ç¤¾å‘½ ã‚’_åŠ©è©-æ ¼åŠ©è©_ã‚’ å—ã‘_å‹•è©-ä¸€èˆ¬_å—ã‘ã‚‹ ã€_è£œåŠ©è¨˜å·-èª­ç‚¹_ã€ åŒã˜_é€£ä½“è©_åŒã˜ ç¤¾_åè©-æ™®é€šåè©-åŠ©æ•°è©å¯èƒ½_ç¤¾ ã®_åŠ©è©-æ ¼åŠ©è©_ã® ï¼¯_åè©-æ™®é€šåè©-ä¸€èˆ¬_o å›_æ¥å°¾è¾-åè©çš„-ä¸€èˆ¬_å› ã¨_åŠ©è©-æ ¼åŠ©è©_ã¨ ä¸€ã—ã‚ˆ_åè©-æ™®é€šåè©-ã‚µå¤‰å¯èƒ½_ä¸€ã—ã‚ˆ ã«_åŠ©è©-æ ¼åŠ©è©_ã« ä¹…_å½¢å®¹è©-ä¸€èˆ¬_ä¹…ã„ æŒ¯ã‚Š_æ¥å°¾è¾-åè©çš„-ä¸€èˆ¬_æŒ¯ã‚Š ã«_åŠ©è©-æ ¼åŠ©è©_ã« æœ¬æ‰€_åè©-å›ºæœ‰åè©-åœ°å-ä¸€èˆ¬_æœ¬æ‰€ ã¸_åŠ©è©-æ ¼åŠ©è©_ã¸ å‡º_å‹•è©-ä¸€èˆ¬_å‡ºã‚‹ ã‹ã‘_å‹•è©-éè‡ªç«‹å¯èƒ½_ã‹ã‘ã‚‹ ã¦_åŠ©è©-æ¥ç¶šåŠ©è©_ã¦ è¡Œã¤_å‹•è©-ä¸€èˆ¬_è¡Œãµ ãŸ_åŠ©å‹•è©_ãŸ ã€‚_è£œåŠ©è¨˜å·-å¥ç‚¹_ã€‚
```

---

## Task 2: Frequency-list by POS tags (10 mins)

- Using `AntConc`, create following frequency lists:
  - Create a frequency list of `å‹•è©-éè‡ªç«‹å¯èƒ½`
- If you are done, please create another frequency list with different search terms.


## Task 2: Key

![éè‡ªç«‹å¯èƒ½å‹•è©](../../assets/session-11/%E9%9D%9E%E8%87%AA%E7%AB%8B%E5%8F%AF%E8%83%BD%E5%8B%95%E8%A9%9E.png)


## Advanced options in TagAnt 

- In TagAnt, you can download models for other languages.

![loading other models](../../assets/session-11/tagant-advanced.gif)

## Any questions?

- Now you can parse multilingual text with TagAnt.


---

# Understanding dependency grammar

## Goals

- Describe grammatical structure of a simple sentence using terminology such as `ROOT`,`head`, `dependency type`, and `dependent`.


## Dependency grammar (ä¿‚å—ã‘)

- Dependency grammar is particular type of syntactic tree.
- forms a tree by defining binary relations between running tokens.
- Each token in the sentence is governed by one token (i.e., `head`)
- The highest in the syntactic tree is termed as `ROOT`

## Dependency grammar (ä¿‚å—ã‘) - 2
- There are a few different approaches to formalize dependency
  - Universal Dependency
  - Stanford Dependency
  - ClearNLP
  - etc.

## Simple example

The following is a dependency for `I play baseball`.

![simple-dependency](../../assets/session-11/dep-1.png)


## In table format

The same sentence, `I play baseball` can be expressed in the following format

| tid | token | dep | head |
|--|-----|----|----|
| 1 | I | nsubj | 2 |
| 2 | play | ROOT |  |
| 3 | baseball | dobj | 2 | 
| 4 | . | punct | 2 |

This type of vertical format is often used to represent multi-layered token information. 

## Some excercise - Problem 1

Try filling in the gap in the following table.

| tid | token | dep | head |
|--|-----|----|----|
| 1 | I |  |  |
| 2 | love | ROOT |  |
| 3 | beef |  |  | 
| 4 | tongue |  |  | 
| 5 | . | punct | 2 |

## Some excercise - Problem 2

Try filling in the gap in the following table.

| tid | token | dep | head |
|--|-----|----|----|
| 1 | The |  |  |
| 2 | cat |  |  |
| 3 | sleeps | ROOT |  |
| 4 | on |  |  | 
| 5 | the |  |  | 
| 6 | mat |  |  | 
| 7 | . | punct | 3 |

## Some excercise - Problem 3

Try filling in the gap in the following table.

| tid | token | dep | head |
|--|-----|----|----|
| 1 | She |  |  |
| 2 | quickly |  |  |
| 3 | reads | ROOT |  |
| 4 | interesting |  |  | 
| 5 | books |  |  | 
| 6 | . | punct | 3 |


# Using dependency parsers to identify grammatical dependency

## About Google Colab (5 mins)

- 

## Python basics (15 mins)

## First text analysis

1. First thing is to load the package.

```python
import spacy
nlp = spacy.load("en_core_web_sm")

```

2. Then you will define a variable `example_text`

```python
example_text = "Hi. This is my first awesome sentence to analyze."
```

3. Analyze this using spacy

```python
doc = nlp(example_text)
```

## Result of your first text analysis


4. Let's print analysis results

```python
for token in doc:
    print(token.text, token.pos_, token.tag_, sep="\t")
```


## Let's parse the sentence.

- Visit our [webapp](https://huggingface.co/spaces/egumasa/simple-text-analyzer) 

- Try the sentences above and analyze their dependencies 


## In what way are these sentence complex?

Describe complexification strategies:

- She hopes to join an international research team after graduation.
- Experts agree that collaboration improves problem-solving efficiency.
- Students often struggle because they lack sufficient guidance.
- He succeeded in the most demanding and competitive program at the university.
- The growing influence of social media on youth behavior is concerning.
- Policies that encourage innovation are essential for economic growth.


## Now try your own examples


